var Forguncy; !function (e) { var t = function () { function t() { } return t.prototype.randomUUID = function () { return crypto && crypto.randomUUID && crypto.randomUUID() || "10000000-1000-4000-8000-100000000000".replace(/[018]/g, function (e) { return (e ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> e / 4).toString(16) }) }, t.prototype.toBase64 = function (e) { return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g, function (e, t) { return String.fromCharCode("0x" + t) })) }, t.prototype.ajaxSetup = function () { var e = this; return $.ajaxSetup({ beforeSend: function (t, n) { e.addContextToAjaxInstance(t) } }), this }, t.prototype.addContextToAjaxInstance = function (n) { var a; n.setRequestHeader(t._contextIdKey, this.randomUUID()), (null === (a = e.ForguncyData.pageInfo) || void 0 === a ? void 0 : a.pageName) && n.setRequestHeader(t._pageName, this.toBase64(e.ForguncyData.pageInfo.pageName)) }, t.prototype.fetchSetup = function () { var n = window.fetch, a = this; return window.fetch = function (o, r) { var c, u = r || {}; return u.headers = u.headers || new Headers, u.headers[t._contextIdKey] = a.randomUUID(), (null === (c = e.ForguncyData.pageInfo) || void 0 === c ? void 0 : c.pageName) && (u.headers[t._pageName] = a.toBase64(e.ForguncyData.pageInfo.pageName)), n(o, u) }, this }, t._contextIdKey = "Fgc-Trace-Context-Id", t._pageName = "Fgc-Page-Name", t.instance = new t, t }(); e.TraceContextHelper = t }(Forguncy || (Forguncy = {}));